import{_ as p,i as v,R as k,S as f,r as c,o as u,c as g,f as t,a as e,w as n,x as b,s as V,g as L,F as R,b as i}from"./index-288619d3.js";const{VITE_URL:x}={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_PATH:"payroom",BASE_URL:"/boardGameSellStation/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},C={data(){return{isChecked:!1,isLoading:!1}},components:{RouterView:v,RouterLink:k},methods:{logout(){document.cookie="myToken=; expires=",this.$router.push("/login")},loginCheck(){var o;this.isLoading=!0;const l=(o=document.cookie.split("; ").find(s=>s.startsWith("myToken=")))==null?void 0:o.split("=")[1];this.$http.defaults.headers.common.Authorization=l,this.$http.post(`${x}/v2/api/user/check`).then(s=>{this.isChecked=!0,s.data.success||this.$router.push("/login")}).catch(s=>{f.fire({title:"錯誤發生",icon:"error",text:`${s.response.data.message}，請嘗試重新整理，如果此狀況持續發生，請聯絡我們`}),this.$router.push("/login")}).finally(()=>{this.isLoading=!1})}},mounted(){this.loginCheck()}},w=e("h1",{class:"text-center"},"後台",-1),S=e("hr",null,null,-1),T={class:"navbar navbar-expand-lg navbar-dark bg-dark"},E={class:"container-fluid"},$=e("a",{class:"navbar-brand",href:"#"},"桌遊販電",-1),y={class:"collapse navbar-collapse",id:"navbarSupportedContent"},B={class:"navbar-nav me-auto mb-2 mb-lg-0 w-100"},D={class:"nav-item"},N={class:"nav-item"},A={class:"nav-item"},I={class:"nav-item"},U={class:"nav-item ms-auto"},F={class:"nav-item"},M=e("hr",null,null,-1),O={class:"container"};function P(l,o,s,z,r,d){const _=c("VLoading"),a=c("RouterLink"),h=c("RouterView");return u(),g(R,null,[t(_,{active:r.isLoading},null,8,["active"]),w,S,e("nav",T,[e("div",E,[$,e("div",y,[e("ul",B,[e("li",D,[t(a,{to:"/admin/products",class:"me-3 nav-link"},{default:n(()=>[i("產品管理")]),_:1})]),e("li",N,[t(a,{to:"/admin/orders",class:"me-3 nav-link"},{default:n(()=>[i("訂單管理")]),_:1})]),e("li",A,[t(a,{to:"/admin/coupons",class:"me-3 nav-link"},{default:n(()=>[i("優惠券管理")]),_:1})]),e("li",I,[t(a,{to:"/admin/articles",class:"me-3 nav-link"},{default:n(()=>[i("文章管理")]),_:1})]),e("li",U,[t(a,{to:"/",class:"me-3 nav-link"},{default:n(()=>[i("前台")]),_:1})]),e("li",F,[e("a",{href:"#",class:"me-3 nav-link",onClick:o[0]||(o[0]=b((...m)=>d.logout&&d.logout(...m),["prevent"]))},"登出")])])])])]),M,e("div",O,[r.isChecked?(u(),V(h,{key:0})):L("",!0)])],64)}const H=p(C,[["render",P]]);export{H as default};
