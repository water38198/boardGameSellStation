import{S as _}from"./sweetalert2.all-456922e1.js";import{_ as h,r as a,o as f,c as V,a as s,g as t,w as b,q as m}from"./index-25a7f1be.js";const{VITE_URL:w}={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_PATH:"payroom",BASE_URL:"/boardGameSellStation/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},v={data(){return{user:{},loadingItem:""}},methods:{login(){this.loadingItem="login",this.$http.post(`${w}/v2/admin/signin`,{username:this.user.account,password:this.user.password}).then(l=>{const{expired:e,token:i}=l.data;document.cookie=`myToken=${i}; expires=${new Date(e)}`,_.fire({icon:"success",title:"登入成功",showConfirmButton:!1,timer:1e3,didClose:()=>{this.$router.push("/admin/products")}})}).catch(()=>{alert("登入失敗")}).finally(()=>{this.loadingItem=""})}}},g={class:"container min-vh-100"},x={class:"row justify-content-center pt-5"},y={class:"col-4"},E=s("h2",{class:"text-center"},"登入",-1),S={class:"mb-3"},k=s("label",{for:"account",class:"h5"},"帳號:",-1),I={class:"mb-3"},B=s("label",{for:"password",class:"h5"},"密碼:",-1),C={class:"text-center"},R=["disabled"];function T(l,e,i,U,o,u){const r=a("VField"),c=a("ErrorMessage"),p=a("VForm");return f(),V("div",g,[s("div",x,[s("div",y,[E,t(p,{onSubmit:u.login,class:"my-5"},{default:b(({errors:d})=>[s("div",S,[k,t(r,{id:"account",name:"帳號",type:"text",class:m(["form-control",{"is-invalid":d.帳號}]),placeholder:"請輸入 帳號",rules:"required|email",modelValue:o.user.account,"onUpdate:modelValue":e[0]||(e[0]=n=>o.user.account=n)},null,8,["class","modelValue"]),t(c,{name:"帳號",class:"invalid-feedback"})]),s("div",I,[B,t(r,{id:"password",name:"密碼",type:"password",class:m(["form-control",{"is-invalid":d.密碼}]),placeholder:"請輸入 密碼",rules:"required",modelValue:o.user.password,"onUpdate:modelValue":e[1]||(e[1]=n=>o.user.password=n)},null,8,["class","modelValue"]),t(c,{name:"密碼",class:"invalid-feedback"})]),s("div",C,[s("button",{type:"submit",class:"btn btn-primary w-100",disabled:o.loadingItem==="login"}," 登入 ",8,R)])]),_:1},8,["onSubmit"])])])])}const L=h(v,[["render",T]]);export{L as default};
