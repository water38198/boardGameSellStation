import{C as f}from"./CategoryNavbar-BhJesNrg.js";import{P as v}from"./ProductCard-Ddd0X-Xx.js";import{P as w}from"./PaginationComponent-BULmr1HW.js";import{_ as C,S as x,c,a as e,e as d,w as P,t as L,F as V,i as S,k as b,f as k,r as i,o as a,p as E,d as I}from"./index-C-WNfngo.js";import"./cartStore-eTP1xxJX.js";var T={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_PATH:"payroom",BASE_URL:"/boardGameSellStation/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:B,VITE_PATH:D}=T,M={components:{CategoryNavbar:f,ProductCard:v,PaginationComponent:w},data(){return{products:[],page:{},isLoading:!1,categoryList:["全部","策略","家庭","派對","雙人","合作","劇情"]}},computed:{category(){return this.$route.query.category||""}},methods:{async getProducts(t=1,n="全部"){this.isLoading=!0;const p=n==="全部"?"":n;try{const s=await this.axios.get(`${B}/v2/api/${D}/products?page=${t}&category=${p}`);this.products=s.data.products,this.page=s.data.pagination,window.scrollTo(0,0)}catch(s){x.fire({title:"錯誤發生",icon:"error",text:`${s.response.data.message}，請嘗試重新整理，如果此狀況持續發生，請聯絡我們`})}finally{this.isLoading=!1}},changeCategory(t){this.$router.push(`/products?category=${t}`),window.scrollTo(0,0)}},watch:{category(){this.$route.path==="/products"&&(this.category==="全部"?this.getProducts(1,""):this.getProducts(1,this.category))}},mounted(){this.getProducts(1,this.category)}},g=t=>(E("data-v-08c45f27"),t=t(),I(),t),N={class:"container bg-white pt-100 pb-5"},G={class:"row g-3"},H={class:"col-lg-3"},R=g(()=>e("h3",{class:"h3 text-theme text-center"},"商品類別",-1)),A={class:"col-lg-9 position-relative"},U={class:"h3 text-theme text-center"},$={class:"row g-3 align-items-stretch products-wrapper"},q=["data-aos-duration"],F={key:1,class:"text-center"},O=g(()=>e("img",{src:"https://images.unsplash.com/photo-1660922771242-c598e0808188?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1074&q=80",alt:"sorry, there is no items in this category",class:"w-50"},null,-1)),j=g(()=>e("p",{class:"fs-4"}," 很抱歉，目前沒有此類商品。 ",-1)),W=[O,j];function Y(t,n,p,s,o,r){const h=i("CategoryNavbar"),u=i("VLoading"),_=i("ProductCard"),m=i("PaginationComponent");return a(),c("div",N,[e("div",G,[e("div",H,[d(h,{onChangeCategory:r.changeCategory,"current-category":r.category,"category-list":o.categoryList},{title:P(()=>[R]),_:1},8,["onChangeCategory","current-category","category-list"])]),e("div",A,[d(u,{active:o.isLoading,"is-full-page":!1},null,8,["active"]),e("h3",U,L(r.category||"全部"),1),e("div",$,[o.products.length||o.isLoading?(a(!0),c(V,{key:0},S(o.products,(l,y)=>(a(),c("div",{key:l.id,class:"col-md-6 col-xl-4","data-aos":"fade-up","data-aos-duration":`${1e3+y*200}`},[d(_,{product:l},null,8,["product"])],8,q))),128)):(a(),c("div",F,W)),o.page.total_pages>1?(a(),b(m,{key:2,pages:o.page,onGetMethod:r.getProducts},null,8,["pages","onGetMethod"])):k("",!0)])])])])}const Z=C(M,[["render",Y],["__scopeId","data-v-08c45f27"]]);export{Z as default};
